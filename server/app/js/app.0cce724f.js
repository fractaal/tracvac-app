(function(e){function t(t){for(var o,r,s=t[0],c=t[1],l=t[2],d=0,f=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&f.push(a[r][0]),a[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);u&&u(t);while(f.length)f.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,r=1;r<n.length;r++){var c=n[r];0!==a[c]&&(o=!1)}o&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},a={2:0},i=[];function r(e){return s.p+"js/"+({}[e]||e)+"."+{1:"8b7960e6",3:"b11938ce",4:"27602c32",5:"0706a70d",6:"d993c349",7:"ebf77b31",8:"ccc7caed",9:"46456654",10:"6fc84a01",11:"a1d63ca5",12:"04cc5386",13:"67ad8238",14:"c5bfb2f8",15:"8dc16549",16:"228639b7",17:"9dfa5fa4",18:"9bf82eeb"}[e]+".js"}function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,o){n=a[e]=[t,o]}));t.push(n[2]=o);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=r(e);var l=new Error;i=function(t){c.onerror=c.onload=null,clearTimeout(d);var n=a[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+o+": "+i+")",l.name="ChunkLoadError",l.type=o,l.request=i,n[1](l)}a[e]=void 0}};var d=setTimeout((function(){i({type:"timeout",target:c})}),12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(t)},s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var u=l;i.push([0,0]),n()})({0:function(e,t,n){e.exports=n("2f39")},"1d60":function(e,t,n){"use strict";var o=n("2a19");const a={timeout:2500};t["a"]={positive:e=>o["a"].create(Object.assign({message:e,type:"positive"},a)),negative:e=>o["a"].create(Object.assign({message:e,type:"negative"},a)),info:e=>o["a"].create(Object.assign({message:e},a))}},2047:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("932f");const a={userInfo:{},showNotifications:!1,logs:[],recentlyViewed:{},activeRoute:"",notifications:[],serverInfo:{},menu:o["a"],changeInVaccinationStatus:!1,changeInVaccineStatus:!1}},2957:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-dialog",{ref:"dialog",attrs:{persistent:""},on:{hide:e.onDialogHide}},[n("q-card",{staticClass:"q-dialog-plugin p-4",staticStyle:{"background-image":"url('/color.png')","background-repeat":"no-repeat","background-attachment":"fixed","background-position":"center"}},[n("q-card-section",[n("div",{staticClass:"mt-8 text-h5"},[e._v("HEADS UP!")]),n("div",{staticClass:"mt-4 text-subtitle2 content-center"},[e._v("YOUR USERNAME IS")]),n("div",{staticClass:"text-h4 font-black"},[n("q-icon",{attrs:{name:"fas fa-user"}}),e._v("\n        "+e._s(e.username)+"\n      ")],1),n("div",{staticClass:"mt-2 text-subtitle2 content-center"},[e._v("YOUR PASSWORD IS")]),n("div",{staticClass:"text-h4 font-black"},[n("q-icon",{attrs:{name:"fas fa-key"}}),e._v("\n        "+e._s(e.password)+"\n      ")],1),n("hr"),n("div",{staticClass:"text-subtitle2"},[e._v("\n        If you might forget your password, take a screenshot of this screen and save it.\n        "),n("b",[e._v("You won't be able to retrieve your password otherwise.")])])]),n("q-card-actions",{attrs:{align:"center"}},[n("q-btn",{staticClass:"p-4",attrs:{disable:!e.canClickOK,icon:"fas fa-check",flat:"",label:0!==e.timeRemaining?"Okay ("+e.timeRemaining+")":"Okay"},on:{click:e.onOKClick}})],1)],1)],1)},a=[],i=n("2b0e"),r=function(e,t,n,o){function a(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function r(e){try{c(o.next(e))}catch(t){i(t)}}function s(e){try{c(o["throw"](e))}catch(t){i(t)}}function c(e){e.done?n(e.value):a(e.value).then(r,s)}c((o=o.apply(e,t||[])).next())}))},s=i["a"].extend({name:"UserCard",data(){return{canClickOK:!1,timeRemaining:10}},props:{username:{type:String,required:!0},password:{type:String,required:!0}},created(){return r(this,void 0,void 0,(function*(){for(let e=this.timeRemaining;e>=0;e--)yield new Promise((e=>setTimeout(e,1e3))),this.timeRemaining=e;this.canClickOK=!0}))},methods:{show(){this.$refs.dialog.show()},hide(){this.$refs.dialog.hide()},onDialogHide(){this.$emit("hide")},onOKClick(){this.$emit("ok"),this.hide()},onCancelClick(){}}}),c=s,l=n("2877"),d=n("24e8"),u=n("f09f"),f=n("a370"),h=n("0016"),p=n("4b7e"),b=n("9c40"),g=n("eebe"),m=n.n(g),v=Object(l["a"])(c,o,a,!1,null,null,null);t["a"]=v.exports;m()(v,"components",{QDialog:d["a"],QCard:u["a"],QCardSection:f["a"],QIcon:h["a"],QCardActions:p["a"],QBtn:b["a"]})},"2f39":function(e,t,n){"use strict";n.r(t);n("e6cf"),n("ddb0"),n("5319"),n("35fc"),n("573e"),n("43b9"),n("7d6e"),n("e54f"),n("4439"),n("4605"),n("f580"),n("5b2b"),n("8753"),n("2967"),n("7e67"),n("d770"),n("dd82"),n("922c"),n("d7fb"),n("a533"),n("c32e"),n("a151"),n("8bc7"),n("e80f"),n("5fec"),n("e42f"),n("57fc"),n("d67f"),n("880e"),n("1c10"),n("9482"),n("e797"),n("4848"),n("53d0"),n("63b1"),n("e9fd"),n("195c"),n("64e9"),n("33c5"),n("4f62"),n("0dbc"),n("7c38"),n("0756"),n("4953"),n("81db"),n("2e52"),n("22485"),n("7797"),n("12a1"),n("ce96"),n("70ca"),n("2318"),n("24bd"),n("8f27"),n("3064"),n("c9a2"),n("8767"),n("4a8e"),n("b828"),n("3c1c"),n("21cb"),n("c00e"),n("e4a8"),n("e4d3"),n("f4d9"),n("fffd"),n("f645"),n("639e"),n("34ee"),n("b794"),n("af24"),n("7c9c"),n("7bb2"),n("64f7"),n("c382"),n("053c"),n("c48f"),n("f5d1"),n("3cec"),n("c00ee"),n("d450"),n("ca07"),n("14e3"),n("9393"),n("9227"),n("1dba"),n("674a"),n("de26"),n("6721"),n("9cb5"),n("ed9b"),n("fc83"),n("98e5"),n("605a"),n("ba60"),n("df07"),n("7903"),n("e046"),n("58af"),n("7713"),n("0571"),n("3e27"),n("6837"),n("3fc9"),n("0693"),n("bf41"),n("985d"),n("31cd"),n("9a0d");var o=n("2b0e"),a=n("1f91"),i=n("42d2"),r=n("b05d"),s=n("18d6"),c=n("a639"),l=n("436b"),d=n("2a19"),u=n("f508");o["a"].use(r["a"],{config:{},lang:a["a"],iconSet:i["a"],plugins:{LocalStorage:s["a"],SessionStorage:c["a"],Dialog:l["a"],Notify:d["a"],Loading:u["a"]}});var f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"q-app"}},[n("transition",{attrs:{"enter-active-class":"animated "+e.transition.in,"leave-active-class":"animated "+e.transition.out,mode:"out-in",duration:300}},[n("router-view")],1)],1)},h=[],p=n("d3a2"),b=n("44eb"),g=n("9baa"),m=function(e,t,n,o){function a(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function r(e){try{c(o.next(e))}catch(t){i(t)}}function s(e){try{c(o["throw"](e))}catch(t){i(t)}}function c(e){e.done?n(e.value):a(e.value).then(r,s)}c((o=o.apply(e,t||[])).next())}))},v=o["a"].extend({name:"App",data(){return{transition:p["a"]}},created(){return m(this,void 0,void 0,(function*(){yield this.$router.push("/");let e="";try{e=document.location.host,this.$q.localStorage.set("server",document.location.host)}catch(t){e=this.$q.localStorage.getItem("server")}yield new Promise((e=>setTimeout(e,1500))),e&&(yield Object(b["d"])(e))?(yield Object(g["c"])())?yield this.$router.push("/home"):yield this.$router.push("/login"):yield this.$router.push("/connect"),window.NavigationBar&&NavigationBar&&NavigationBar.show()}))}}),w=v,y=n("2877"),P=Object(y["a"])(w,f,h,!1,null,null,null),O=P.exports,k=n("4bde"),C=n("8c4f");const x=[{path:"/",component:()=>Promise.all([n.e(0),n.e(14)]).then(n.bind(null,"4632")),children:[{path:"",component:()=>Promise.all([n.e(0),n.e(13)]).then(n.bind(null,"2d97"))},{path:"/login",component:()=>Promise.all([n.e(0),n.e(12)]).then(n.bind(null,"013f"))},{path:"/register",component:()=>Promise.all([n.e(0),n.e(1)]).then(n.bind(null,"56b4")),props:{mode:"register"}},{path:"/connect",component:()=>Promise.all([n.e(0),n.e(16)]).then(n.bind(null,"2c32"))}]},{path:"/home",component:()=>Promise.all([n.e(0),n.e(15)]).then(n.bind(null,"713b")),children:[{path:"",component:()=>Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"bc13"))},{path:"/profile",component:()=>Promise.all([n.e(0),n.e(4)]).then(n.bind(null,"2ff9"))},{path:"/personal-info",component:()=>Promise.all([n.e(0),n.e(1)]).then(n.bind(null,"56b4")),props:{mode:"edit"}},{path:"/logs",component:()=>Promise.all([n.e(0),n.e(3)]).then(n.bind(null,"e19e"))},{path:"/vaccine",component:()=>Promise.all([n.e(0),n.e(8)]).then(n.bind(null,"595c"))},{path:"/view-log",component:()=>Promise.all([n.e(0),n.e(9)]).then(n.bind(null,"416e"))},{path:"/notifications",component:()=>Promise.all([n.e(0),n.e(6)]).then(n.bind(null,"f2e3"))},{path:"/preferences",component:()=>Promise.all([n.e(0),n.e(7)]).then(n.bind(null,"982f"))},{path:"/faqs",component:()=>Promise.all([n.e(0),n.e(11)]).then(n.bind(null,"f90e"))},{path:"/change-profile-picture",component:()=>Promise.all([n.e(0),n.e(10)]).then(n.bind(null,"11c2"))}]},{path:"*",component:()=>n.e(17).then(n.bind(null,"e51e"))}];var S=x,j=n("2047"),$=Object(k["route"])((function({Vue:e}){e.use(C["a"]);const t=new C["a"]({scrollBehavior(e,t,n){return n||{x:0,y:0}},routes:S,mode:"hash",base:""});return t.beforeEach(((e,t,n)=>{"/"===e.path&&"/"!==t.path&&n(!1),j["a"].activeRoute=e.path,n()})),t})),_=async function(){const e="function"===typeof $?await $({Vue:o["a"]}):$,t={router:e,render:e=>e(O),el:"#q-app"};return{app:t,router:e}},q=n("9483");Object(q["a"])("service-worker.js",{ready(){},registered(){},cached(){},updatefound(){},updated(){},offline(){},error(){}});var I=n("bc3a"),R=n.n(I);R.a.defaults.validateStatus=e=>(console.log(`Status is ${e<500}`),e<500);var D=Object(k["boot"])((({Vue:e})=>{e.prototype.$axios=R.a})),A=n("caf4");/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&window.navigator.standalone&&n.e(0).then(n.t.bind(null,"a0db",7));const N="";async function L(){const{app:e,router:t}=await _();let n=!1;const a=e=>{n=!0;const o=Object(e)===e?t.resolve(e).route.fullPath:e;window.location.href=o},i=window.location.href.replace(window.location.origin,""),r=[D,A["a"]];for(let c=0;!1===n&&c<r.length;c++)if("function"===typeof r[c])try{await r[c]({app:e,router:t,Vue:o["a"],ssrContext:null,redirect:a,urlPath:i,publicPath:N})}catch(s){return s&&s.url?void(window.location.href=s.url):void console.error("[Quasar] boot error:",s)}!0!==n&&new o["a"](e)}L()},"31cd":function(e,t,n){},"44eb":function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return m}));var o=n("bc3a"),a=n.n(o),i=n("1d60"),r=n("2047"),s=n("436b"),c=n("18d6"),l=n("9baa"),d=n("caf4"),u=n("932f"),f=function(e,t,n,o){function a(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function r(e){try{c(o.next(e))}catch(t){i(t)}}function s(e){try{c(o["throw"](e))}catch(t){i(t)}}function c(e){e.done?n(e.value):a(e.value).then(r,s)}c((o=o.apply(e,t||[])).next())}))};const h=a.a.create({timeout:5e3,baseURL:"",validateStatus(e){return e<500}});let p;function b(e){return/^(?:f|ht)tps?:\/\//.test(e)||(e="http://"+e),e}function g(e){var t;return f(this,void 0,void 0,(function*(){try{e=e.trim();const n=yield h.get(e+"/reception");if(null===(t=n.data)||void 0===t?void 0:t.version){console.log("reception",n.data);for(const e in n.data)c["a"].set(e,n.data[e]),r["a"].serverInfo=Object.assign({},r["a"].serverInfo,n.data);if(r["a"].serverInfo=Object.assign({},r["a"].serverInfo,{address:e}),i["a"].positive(`Connected to ${n.data.location}!`),c["a"].set("server",e),h.defaults.baseURL=e,p=e,!n.data.lguUrl)for(let e=0;e<u["a"].length;e++)"Go to the LGU website"===u["a"][e].name&&(u["a"][e].hidden=!0);return!0}return i["a"].negative(`${e} doesn't seem to be a valid Tracvac site.`),!1}catch(n){return i["a"].negative(`An error happened while connecting ${n.message}`),!1}}))}function m(){return f(this,void 0,void 0,(function*(){s["a"].create({title:`Disconnect from ${r["a"].serverInfo.location}?`,message:"By disconnecting, you'll be logged out and taken back to the site selection screen.",ok:!0,cancel:!0}).onOk((()=>{Object(l["d"])(!0),d["b"].push("/connect")}))}))}},"932f":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("9baa"),a=n("2047"),i=n("caf4"),r=n("18d6"),s=n("44eb");const c=[{name:"BE INFORMED",isSeparator:!0},{name:"Notifications from DOH",description:"Go to the Department of Health official website and check their notifications from there.",icon:"health_and_safety",action(){window.open("https://doh.gov.ph/","_system")}},{name:"Notifications from your LGU",showBadge:!1,description:"View notifications sent to you from your Local Government Unit.",icon:"fas fa-university",action(){i["b"].push("/notifications");for(const e of c)"Notifications from your LGU"===e.name&&(e.showBadge=!1)}},{name:"Go to the LGU website",icon:"fas fa-globe-americas",hidden:!1,description:"Connect to your local government's website, for local updates",action(){window.open(Object(s["a"])(r["a"].getItem("lguUrl")),"_system")}},{name:"OTHERS",isSeparator:!0},{name:"Preferences",icon:"fas fa-cog",disallowRecentlyViewed:!0,action(){i["b"].push("/preferences")}},{name:"Log out",icon:"fas fa-sign-out-alt",disallowRecentlyViewed:!0,action:o["d"]}];for(const l of c)if(l.action&&!l.disallowRecentlyViewed){const e=l.action;l.action=(...t)=>{var n;a["a"].recentlyViewed=Object.assign({},a["a"].recentlyViewed,l),console.log(`Recently viewed is now ${null===(n=a["a"].recentlyViewed)||void 0===n?void 0:n.name}`),e(...t)}}},"9a0d":function(e,t,n){},"9baa":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return b}));var o=n("44eb"),a=n("ea9b"),i=n("caf4"),r=n("18d6"),s=n("436b"),c=n("2047"),l=function(e,t,n,o){function a(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function r(e){try{c(o.next(e))}catch(t){i(t)}}function s(e){try{c(o["throw"](e))}catch(t){i(t)}}function c(e){e.done?n(e.value):a(e.value).then(r,s)}c((o=o.apply(e,t||[])).next())}))};let d=!1;function u(){return d}function f(e,t){return l(this,void 0,void 0,(function*(){console.log(`Logging in with ${e} and ${t}...`);try{const n=yield o["b"].post("/login",{username:e,password:t});return n.data.result?(r["a"].set("token",n.data.token),o["b"].defaults.headers={"X-Access-Token":n.data.token},yield Object(a["b"])(),d=!0,[!0]):(d=!1,[!1,n.data.message])}catch(n){return d=!1,[!1,`A clientside error happened while logging you in: ${n}`]}}))}function h(){return l(this,void 0,void 0,(function*(){const e=r["a"].getItem("token");if(e){o["b"].defaults.headers={"X-Access-Token":e};const t=yield o["b"].get("/is-authorized");if(!0===t.data.result)return yield Object(a["b"])(),d=!0,!0}return!1}))}function p(e){console.log("logout called");const t=()=>{const e=r["a"].getItem("token");e&&(c["a"].userInfo=Object.assign({},{}),r["a"].remove("token")),d=!1,i["b"].push("/login")};e?t():s["a"].create({message:"Are you sure you want to log out?",cancel:!0,ok:!0}).onOk(t)}function b(e){return l(this,void 0,void 0,(function*(){console.log("Registering...");try{const t=yield o["b"].post("/user",e);return t.data.result?(yield f(e.username,e.password),d=!0,[!0]):(d=!1,[!1,t.data.message])}catch(t){return d=!1,[!1,`A clientside error happened while trying to register you: ${t.message}`]}}))}},caf4:function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var o=n("4bde");let a=null;t["a"]=Object(o["boot"])((({router:e})=>{a=e}))},d3a2:function(e,t,n){"use strict";t["a"]={in:"fadeInLeft",out:"fadeOutRight"}},ea9b:function(e,t,n){"use strict";n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return $})),n.d(t,"d",(function(){return _})),n.d(t,"a",(function(){return q}));var o=n("44eb"),a=n("2047"),i=n("1d60"),r=n("9baa"),s=n("436b"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-dialog",{ref:"dialog",attrs:{persistent:""},on:{hide:e.onDialogHide}},[n("q-card",{staticClass:"q-dialog-plugin p-4",staticStyle:{"background-image":"url('/color.png')","background-repeat":"no-repeat","background-attachment":"fixed","background-position":"center"}},[n("q-card-section",[n("div",{staticClass:"mt-8 text-h5"},[e._v("CHANGE PASSWORD")]),n("div",{staticClass:"mt-4 text-subtitle2 content-center"},[e._v("OLD PASSWORD")]),n("q-input",{attrs:{type:e.showOldPassword?"password":"text"},scopedSlots:e._u([{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.showOldPassword?"visibility_off":"visibility"},on:{click:function(t){e.showOldPassword=!e.showOldPassword}}})]},proxy:!0}]),model:{value:e.oldPassword,callback:function(t){e.oldPassword=t},expression:"oldPassword"}}),n("div",{staticClass:"mt-2 text-subtitle2 content-center"},[e._v("NEW PASSWORD")]),n("q-input",{attrs:{type:e.showNewPassword?"password":"text"},scopedSlots:e._u([{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.showNewPassword?"visibility_off":"visibility"},on:{click:function(t){e.showNewPassword=!e.showNewPassword}}})]},proxy:!0}]),model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}})],1),n("q-card-actions",{attrs:{align:"center"}},[n("q-btn",{staticClass:"p-4",attrs:{disable:!e.canClickOK,icon:"fas fa-check",flat:"",label:"Change My Password"},on:{click:e.onOKClick}}),n("q-btn",{staticClass:"p-4",attrs:{icon:"fas fa-times",flat:"",label:"Cancel"},on:{click:e.onCancelClick}})],1)],1)],1)},l=[],d=n("2b0e"),u=d["a"].extend({name:"ChangePasswordDialog",data(){return{showNewPassword:!1,newPassword:"",showOldPassword:!1,oldPassword:""}},computed:{canClickOK(){return""!==this.newPassword&&""!==this.oldPassword}},methods:{show(){this.$refs.dialog.show()},hide(){this.$refs.dialog.hide()},onDialogHide(){this.$emit("hide")},onOKClick(){this.$emit("ok",{oldPassword:this.oldPassword,newPassword:this.newPassword}),this.hide()},onCancelClick(){this.hide()}}}),f=u,h=n("2877"),p=n("24e8"),b=n("f09f"),g=n("a370"),m=n("27f9"),v=n("0016"),w=n("4b7e"),y=n("9c40"),P=n("eebe"),O=n.n(P),k=Object(h["a"])(f,c,l,!1,null,null,null),C=k.exports;O()(k,"components",{QDialog:p["a"],QCard:b["a"],QCardSection:g["a"],QInput:m["a"],QIcon:v["a"],QCardActions:w["a"],QBtn:y["a"]});var x=n("2957"),S=function(e,t,n,o){function a(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function r(e){try{c(o.next(e))}catch(t){i(t)}}function s(e){try{c(o["throw"](e))}catch(t){i(t)}}function c(e){e.done?n(e.value):a(e.value).then(r,s)}c((o=o.apply(e,t||[])).next())}))};function j(){return S(this,void 0,void 0,(function*(){try{const e=yield(yield o["b"].get("/user")).data;return!!e.result&&(a["a"].userInfo=Object.assign({},a["a"].userInfo,e.user),!0)}catch(e){return console.warn("User info retrieval failed! Token must be invalid! Logging out..."),i["a"].negative("Please log in again."),Object(r["d"])(!0),!1}}))}function $(e){return S(this,void 0,void 0,(function*(){try{const t=yield o["b"].patch("/user",e);return t.data.result?(yield j(),i["a"].positive("Personal information updated!"),!0):(i["a"].negative(`Personal information not saved: ${t.data.message}`),!1)}catch(t){return i["a"].negative(`Personal information not saved: ${t}`),!1}}))}function _(e){return S(this,void 0,void 0,(function*(){const t=new FormData;t.append("file",e);try{const e=(yield o["b"].post("/upload-profile-picture",t,{headers:{"Content-Type":"multipart/form-data"}})).data;return e.result?(i["a"].positive("Profile picture changed!"),yield j(),!0):(i["a"].negative(`Profile picture change failed: ${e.message}`),!1)}catch(n){return i["a"].negative(`Profile picture upload failed: ${n.message}`),!1}}))}function q(){try{s["a"].create({component:C}).onOk((e=>S(this,void 0,void 0,(function*(){var t;const n=yield o["b"].post("/changePassword",{oldPassword:e.oldPassword,newPassword:e.newPassword});n.data.result?s["a"].create({component:x["a"],username:null===(t=a["a"].userInfo)||void 0===t?void 0:t.username,password:e.newPassword}).onOk((()=>{i["a"].positive("Password changed! Please log in again with the new password."),Object(r["d"])(!0)})):i["a"].negative(`Password change failed: ${n.data.message}`)}))))}catch(e){i["a"].negative(`Password change failed: ${e}`)}}}});
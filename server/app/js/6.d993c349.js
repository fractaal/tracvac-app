(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{1789:function(t,n,e){"use strict";var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{key:"ph",staticClass:"p-8 mt-32 text-gray-500 text-center"},[e("q-icon",{staticClass:"block mx-auto",attrs:{name:t.icon,size:"96px"}}),e("p",{staticClass:"m-0 font-bold"},[t._v(t._s(t.title))]),e("p",{staticClass:"text-xs"},[e("i",[t._v(t._s(t.subtitle))])])],1)},a=[],o={name:"EmptyPlaceholder",props:{icon:{type:String,required:!0},title:{type:String,required:!0},subtitle:{type:String,required:!0}}},s=o,r=e("2877"),c=e("0016"),d=e("eebe"),l=e.n(d),u=Object(r["a"])(s,i,a,!1,null,"5ae7ca88",null);n["a"]=u.exports;l()(u,"components",{QIcon:c["a"]})},"339c":function(t,n,e){"use strict";var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"m-0 py-4 px-4"},[e("q-btn",{staticClass:"inline mr-4 p-0",attrs:{flat:"",round:"",icon:"keyboard_arrow_left"},on:{click:t.goBack}}),e("h5",{staticClass:"align-middle inline font-bold"},[t._v(t._s(t.title))])],1)},a=[],o=e("2b0e"),s=function(t,n,e,i){function a(t){return t instanceof e?t:new e((function(n){n(t)}))}return new(e||(e=Promise))((function(e,o){function s(t){try{c(i.next(t))}catch(n){o(n)}}function r(t){try{c(i["throw"](t))}catch(n){o(n)}}function c(t){t.done?e(t.value):a(t.value).then(s,r)}c((i=i.apply(t,n||[])).next())}))},r=o["a"].extend({name:"BlueHeader",props:{title:{type:String}},methods:{goBack(){return s(this,void 0,void 0,(function*(){yield new Promise((t=>setTimeout(t,150))),this.$router.back()}))}}}),c=r,d=e("2877"),l=e("9c40"),u=e("eebe"),f=e.n(u),h=Object(d["a"])(c,i,a,!1,null,"5b0f3949",null);n["a"]=h.exports;f()(h,"components",{QBtn:l["a"]})},d7ca:function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));e("2047");var i=e("44eb"),a=e("1d60"),o=e("18d6"),s=function(t,n,e,i){function a(t){return t instanceof e?t:new e((function(n){n(t)}))}return new(e||(e=Promise))((function(e,o){function s(t){try{c(i.next(t))}catch(n){o(n)}}function r(t){try{c(i["throw"](t))}catch(n){o(n)}}function c(t){t.done?e(t.value):a(t.value).then(s,r)}c((i=i.apply(t,n||[])).next())}))};function r(t){return s(this,void 0,void 0,(function*(){try{const n=yield i["b"].get(`/notification/${t}`),e=o["a"].getItem("alreadyRead");for(const t of n.data.notifications.results)-1===e.indexOf(t.id)&&e.push(t.id);return o["a"].set("alreadyRead",e),[n.data.notifications.results,0===n.data.notifications.results.length]}catch(n){return a["a"].negative(`An error occurred while trying to get notifications! ${n}`),[null,!1]}}))}},eafa:function(t,n,e){"use strict";var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._t("default"),e("transition",{attrs:{name:"transition",mode:"out-in"}},[t.isEnd?t._e():e("div",[e("q-btn",{staticClass:"block px-4 py-2 my-auto mx-auto",attrs:{label:"Load More",loading:t.isLoading,flat:""},on:{click:t.load}})],1)])],2)},a=[],o=e("2b0e"),s=o["a"].extend({name:"LoadMore",data(){return{index:0,isLoading:!1,isEnd:!1}},methods:{reset(){this.index=0,this.isLoading=!1,this.isEnd=!1},load(){this.isLoading=!0,this.$emit("load",this.index,(t=>{this.index++,this.isLoading=!1,this.isEnd=t}))}}}),r=s,c=e("2877"),d=e("9c40"),l=e("eebe"),u=e.n(l),f=Object(c["a"])(r,i,a,!1,null,"5ba6aa3b",null);n["a"]=f.exports;u()(f,"components",{QBtn:d["a"]})},f2e3:function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("q-page",[e("custom-header",{attrs:{title:"Notifications"}}),e("div",{staticClass:"px-8"},[e("transition",{attrs:{name:"transition",mode:"out-in"}},[t.isLoading||0!==t.notifications.length?t._e():e("empty-placeholder",{attrs:{icon:"fas fa-question",title:"No notifications found",subtitle:"LGU Notifications are shown here."}})],1),e("load-more",{ref:"list",on:{load:t.onLoad}},[e("transition-group",{attrs:{name:"transition",mode:"out-in"}},t._l(t.notifications,(function(t){return e("notification-card",{key:t.id,attrs:{notification:t}})})),1)],1)],1)],1)},a=[],o=e("2b0e"),s=e("d7ca"),r=e("2047"),c=e("339c"),d=e("eafa"),l=e("1789"),u=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"rounded-lg p-3 border border-solid border-gray-200 mb-4"},[e("p",{staticClass:"text-h6 m-0 font-bold"},[t._v(t._s(t.notification.title))]),e("p",{staticClass:"m-0"},[e("i",[t._v(t._s(t.formattedDate))])]),e("hr"),e("p",{staticClass:"m-0",domProps:{innerHTML:t._s(t.notification.content)}})])},f=[],h=e("1556"),p=e("b166"),m=o["a"].extend({name:"NotificationCard",data(){return{formattedDate:`\n      Posted ${Object(h["a"])(Date.parse(this.notification.createdAt),Date.now(),{addSuffix:!0})}\n      on ${Object(p["a"])(Date.parse(this.notification.createdAt),"MMMM d, yyyy")}\n      `}},props:{notification:{type:Object,required:!0}}}),b=m,y=e("2877"),v=Object(y["a"])(b,u,f,!1,null,"0f2bbe8b",null),x=v.exports,g=function(t,n,e,i){function a(t){return t instanceof e?t:new e((function(n){n(t)}))}return new(e||(e=Promise))((function(e,o){function s(t){try{c(i.next(t))}catch(n){o(n)}}function r(t){try{c(i["throw"](t))}catch(n){o(n)}}function c(t){t.done?e(t.value):a(t.value).then(s,r)}c((i=i.apply(t,n||[])).next())}))},_=o["a"].extend({name:"Notifications",components:{NotificationCard:x,CustomHeader:c["a"],LoadMore:d["a"],EmptyPlaceholder:l["a"]},data(){return{isLoading:!1,store:r["a"],notifications:[]}},activated(){this.notifications=[],this.$refs.list.reset(),this.$refs.list.load()},methods:{onLoad(t,n){return g(this,void 0,void 0,(function*(){this.isLoading=!0;const[e,i]=yield Object(s["a"])(t);null!==e&&this.notifications.push(...e),n(i),this.isLoading=!1}))}}}),w=_,C=e("9989"),L=e("eebe"),$=e.n(L),k=Object(y["a"])(w,i,a,!1,null,"65b1fb86",null);n["default"]=k.exports;$()(k,"components",{QPage:C["a"]})}}]);
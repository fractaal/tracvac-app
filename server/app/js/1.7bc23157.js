(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"56b4":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",[a("div",{staticClass:"text-white bg-blue-500 px-12 py-6"},[a("div",{staticClass:"flex flex-row justify-between align-baseline"},[a("h4",{staticClass:"m-0"},[e._v(e._s("register"===e.$props.mode?"SIGN UP":"YOUR INFO"))]),a("p",[e._v(e._s(e.activeSection+1)+" of "+e._s(e.template.length))])])]),a("div",{staticClass:"mx-12"},[a("transition",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut",mode:"out-in",duration:100}},[a("div",{key:e.activeSection},[a("div",[a("h6",{staticClass:"mt-8 mb-0"},[e._v(e._s(e.template[e.activeSection].title.toUpperCase()))]),a("p",[e._v(e._s(e.template[e.activeSection].description))])]),a("div",[a("transition-group",{attrs:{name:"transition",mode:"out-in"}},e._l(e.template[e.activeSection].formItems,(function(t){return a("div",{key:t.name,staticClass:"mb-2"},[t.conditionalFunction&&t.conditionalFunction(e.formData)||!t.conditionalFunction?a("div",["Dropdown"==t.format&&"string"==t.type?a("q-select",{attrs:{outlined:"",dense:"",label:t.displayName||t.name,name:t.name,id:t.name,options:t.options},model:{value:e.formData[t.name],callback:function(a){e.$set(e.formData,t.name,a)},expression:"formData[data.name]"}}):"Dropdown"==t.format&&"boolean"==t.type?a("q-select",{attrs:{outlined:"",dense:"",label:t.displayName||t.name,name:t.name,id:t.name,options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],"emit-value":""},model:{value:e.formData[t.name],callback:function(a){e.$set(e.formData,t.name,a)},expression:"formData[data.name]"}}):"Text"==t.format?a("q-input",{attrs:{dense:"",label:t.displayName||t.name,type:"text",maxlength:t.limit||999,rules:[function(e){return!!e||t.isNotRequired||t.displayName+" can't be empty."}].concat(t.rules||[])},model:{value:e.formData[t.name],callback:function(a){e.$set(e.formData,t.name,a)},expression:"formData[data.name]"}}):"Password"==t.format?a("q-input",{attrs:{dense:"",type:e.isPassword?"password":"text",label:"Password",rules:[function(e){return!!e||"Your password can't be empty."}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPassword?"visibility_off":"visibility"},on:{click:function(t){e.isPassword=!e.isPassword}}})]},proxy:!0}],null,!0),model:{value:e.formData[t.name],callback:function(a){e.$set(e.formData,t.name,a)},expression:"formData[data.name]"}}):"DatePicker"==t.format?a("div",{staticClass:"column items-center"},[a("q-input",{staticClass:"w-full",attrs:{dense:"",label:t.displayName,mask:"date",rules:["date"]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{ref:"qDateProxy",refInFor:!0,attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{model:{value:e.formData[t.name],callback:function(a){e.$set(e.formData,t.name,a)},expression:"formData[data.name]"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}],null,!0),model:{value:e.formData[t.name],callback:function(a){e.$set(e.formData,t.name,a)},expression:"formData[data.name]"}})],1):e._e(),t.description?a("div",[a("br"),a("p",{staticClass:"text-xs -mt-4",domProps:{innerHTML:e._s(t.description)}})]):e._e()],1):e._e()])})),0)],1)])])],1),a("br"),a("br"),a("br"),a("q-page-sticky",{attrs:{position:"bottom-right",offset:[18,18]}},[a("q-btn",{staticClass:"mr-2",attrs:{fab:"",icon:e.backIcon,color:"primary"},on:{click:e.back}}),a("q-btn",{attrs:{fab:"",icon:e.forwardIcon,color:"primary"},on:{click:e.next}})],1)],1)},o=[],n=a("b166"),s=a("d3a2"),r=a("2047");function l(e){const t=String(e);return!!/^\d+$/.test(t)&&("0"===t[0]&&11===t.length)}const m=[{title:"Personal Information",description:"Input your personal data here.",formItems:[{name:"lastName",displayName:"Last Name",type:"string",format:"Text"},{name:"firstName",displayName:"First Name",type:"string",format:"Text"},{name:"middleName",displayName:"Middle Name",type:"string",format:"Text"},{name:"suffix",displayName:"Suffix",type:"string",format:"Text",isNotRequired:!0},{name:"contactNumber",displayName:"Contact Number",type:"number",format:"Text",limit:12,rules:[e=>l(e)||"Must be a valid contact number."]},{name:"fullAddress",displayName:"Full Address",type:"string",format:"Text"},{name:"province",displayName:"Province",type:"string",format:"Text"},{name:"municipalityOrCity",displayName:"Municipality or City",type:"string",format:"Text"},{name:"barangay",displayName:"Barangay",type:"string",format:"Text"},{name:"sex",displayName:"Sex",options:["01 - Female","02 - Male","03 - Not to Disclose"],type:"string",format:"Dropdown"},{name:"dateOfBirth",displayName:"Date of Birth",type:"date",format:"DatePicker"},{name:"civilStatus",displayName:"Civil Status",options:["01 - Single","02 - Married","03 - Widow/Widower","04 - Separated/Annulled","05 - Living with Partner"],type:"string",format:"Dropdown"},{name:"pregnancyStatus",displayName:"Pregnant?",type:"boolean",format:"Dropdown",conditionalFunction:e=>"01 - Female"===e.sex}]},{title:"Work Information",description:"Input your work information here.",formItems:[{name:"category",displayName:"Employment Category",options:["01 - Health Care Worker","02 - Senior Citizen","03 - Indigent","04 - Uniformed Personnel","05 - Essential Worker","06 - Other"],type:"string",format:"Dropdown"},{name:"categoryID",displayName:"Category ID",options:["PRC ID","OSCA / Senior Citizen ID","Facility ID","PWD ID","Postal ID","SSS ID","Other"],type:"string",format:"Dropdown"},{name:"otherCategoryID",displayName:"Category ID (Other)",type:"string",format:"Text",conditionalFunction(e){return"Other"===e.categoryID}},{name:"categoryIDNumber",displayName:"ID Number",type:"string",format:"Text",isNotRequired:!0},{name:"philHealthID",displayName:"Philhealth ID",type:"number",format:"Text",limit:12,isNotRequired:!0},{name:"employed",displayName:"Employment Type",options:["01 - Government Employed","02 - Private Employed","03 - Self Employed","04 - Private Practitioner","05 - Others"],type:"string",format:"Dropdown"},{name:"profession",displayName:"Profession",options:["01 - Dental Hygienist","02 - Dental Technologist","03 - Dentist","04 - Medical Technologist","05 - Midwife","06 - Nurse","07 - Nutritionist/Dietician","08 - Occupational Therapist","09 - Optomerist","10 - Pharmacist","11 - Physical Therapist","12 - Physician","13 - Radiologic Technologist","14 - Respiratory Therapist","15 - X-ray Technologist","16 - Barangay Health Worker","17 - Maintenance Staff","18 - Administrative Staff","19 - Others"],type:"string",format:"Dropdown"},{name:"otherProfession",displayName:"Please specify profession:",type:"string",format:"Text",conditionalFunction(e){return"19 - Others"===e.profession}},{name:"employerName",displayName:"Employer Name",type:"string",format:"Text",conditionalFunction(e){return"03 - Self Employed"!==e.employed}},{name:"employerLGU",displayName:"Employer LGU",type:"string",format:"Text",conditionalFunction(e){return"03 - Self Employed"!==e.employed}},{name:"employerAddress",displayName:"Employer Address",type:"string",format:"Text",conditionalFunction(e){return"03 - Self Employed"!==e.employed}},{name:"employerContactNumber",displayName:"Employer Contact Number",type:"number",format:"Text",isNotRequired:!0,limit:12,rules:[e=>l(e)||"Must be a valid contact number."],conditionalFunction(e){return"03 - Self Employed"!==e.employed}}]},{title:"Medical History",description:"All information regarding your medical history goes here.",formItems:[{name:"__preexistingCondition",displayName:"Pre-existing Condition?",description:'Do you have an existing medical condition?"',type:"boolean",format:"Dropdown"},{name:"preexistingCondition",displayName:"Pre-existing Conditions",description:"\n          Please indicate your previous/existing medical conditions.<br>\n          <i>i.e. Hypertension, Diabetes, Multiple Sclerosis</i>\n        ",type:"string",format:"Text",conditionalFunction(e){return"Yes"===e.__preexistingCondition}},{name:"directCOVID",displayName:"Providing care?",description:"Are you providing direct COVID care to a patient?",type:"boolean",format:"Dropdown",conditionalFunction(e){return"Yes"===e.__preexistingCondition}},{name:"withAllergy",displayName:"With Allergy?",type:"boolean",format:"Dropdown",conditionalFunction(e){return"Yes"===e.__preexistingCondition}},{name:"allergy",displayName:"Allergy",type:"string",format:"Text",conditionalFunction(e){return"Yes"===e.withAllergy}},{name:"withComorbidities",displayName:"With Comorbidities?",description:"A comorbidity is the simultaneous presence of two or more diseases or medical conditions in a patient.",type:"boolean",format:"Dropdown",conditionalFunction(e){return"Yes"===e.__preexistingCondition}},{name:"comorbidity",displayName:"Comorbidity",type:"string",options:["01 - Hypertension","02 - Heart Disease","03 - Kidney Disease","04 - Diabetes Mellitus","05 - Bronchial Asthma","06 - Immunodeficiency State","07 - Cancer","08 - Others"],format:"Dropdown",conditionalFunction(e){return"Yes"===e.withComorbidities}},{name:"covidHistory",displayName:"Diagnosed with COVID-19?",description:"Were you at all diagnosed with COVID-19?",type:"boolean",format:"Dropdown"},{name:"covidDate",displayName:"Date of First Positive Result",description:"The date of when you were first diagnosed with COVID-19.",type:"date",format:"DatePicker",conditionalFunction(e){return"Yes"===e.covidHistory}},{name:"covidClassification",displayName:"Classification of Infection",type:"string",options:["01 - Asymptomatic","02 - Mild","03 - Moderate","04 - Severe","05 - Critical"],format:"Dropdown",conditionalFunction(e){return"Yes"===e.covidHistory}}]},{title:"Consent",description:"Consent for scientific research.",formItems:[{name:"consentForDataCollection",displayName:"Electronic Informed Consent",description:"Have you provided electronic informed consent for data collection?",type:"string",options:["01 - Yes","02 - No","03 - Unknown"],format:"Dropdown"},{name:"consentForVaccination",displayName:"Consent For Vaccination",description:"Have you provided initial consent for vaccination?",type:"string",options:["01 - Yes","02 - No","03 - Unknown"],format:"Dropdown"}]},{title:"Credentials",description:"Needed to log you in, and other things.",formItems:[{name:"username",displayName:"Username",type:"string",format:"Text",rules:[e=>e.length>=8||"Your username must be at least 8 characters."]},{name:"email",displayName:"E-mail",type:"string",format:"Text",rules:[e=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||"Choose a valid email address."]},{name:"password",displayName:"Password",description:'\n            Please <b>remember your password.</b> write it down on a piece of paper you won\'t lose, or use a password manager.\n            <br><br>\n            <b class="text-red-500">Losing your password means losing access to this account permanently.</b>\n        ',type:"string",format:"Password"}]}];var c=m,d=a("2b0e"),p=a("9baa"),u=a("ea9b"),f=a("436b"),y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-dialog",{ref:"dialog",attrs:{persistent:""},on:{hide:e.onDialogHide}},[a("q-card",{staticClass:"q-dialog-plugin p-4",staticStyle:{"background-image":"url('/color.png')","background-repeat":"no-repeat","background-attachment":"fixed","background-position":"center"}},[a("q-card-section",[a("div",{staticClass:"mt-8 text-h5"},[e._v("HEADS UP!")]),a("div",{staticClass:"mt-4 text-subtitle2 content-center"},[e._v("YOUR USERNAME IS")]),a("div",{staticClass:"text-h4 font-black"},[a("q-icon",{attrs:{name:"fas fa-user"}}),e._v("\n        "+e._s(e.username)+"\n      ")],1),a("div",{staticClass:"mt-2 text-subtitle2 content-center"},[e._v("YOUR PASSWORD IS")]),a("div",{staticClass:"text-h4 font-black"},[a("q-icon",{attrs:{name:"fas fa-key"}}),e._v("\n        "+e._s(e.password)+"\n      ")],1),a("hr"),a("div",{staticClass:"text-subtitle2"},[e._v("\n        If you might forget your password, take a screenshot of this screen and save it.\n        "),a("b",[e._v("You won't be able to retrieve your password otherwise.")])])]),a("q-card-actions",{attrs:{align:"center"}},[a("q-btn",{staticClass:"p-4",attrs:{disable:!e.canClickOK,icon:"fas fa-check",flat:"",label:0!==e.timeRemaining?"Okay ("+e.timeRemaining+")":"Okay"},on:{click:e.onOKClick}})],1)],1)],1)},h=[],g=function(e,t,a,i){function o(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,n){function s(e){try{l(i.next(e))}catch(t){n(t)}}function r(e){try{l(i["throw"](e))}catch(t){n(t)}}function l(e){e.done?a(e.value):o(e.value).then(s,r)}l((i=i.apply(e,t||[])).next())}))},v=d["a"].extend({name:"UserCard",data(){return{canClickOK:!1,timeRemaining:10}},props:{username:{type:String,required:!0},password:{type:String,required:!0}},created(){return g(this,void 0,void 0,(function*(){for(let e=this.timeRemaining;e>=0;e--)yield new Promise((e=>setTimeout(e,1e3))),this.timeRemaining=e;this.canClickOK=!0}))},methods:{show(){this.$refs.dialog.show()},hide(){this.$refs.dialog.hide()},onDialogHide(){this.$emit("hide")},onOKClick(){this.$emit("ok"),this.hide()},onCancelClick(){}}}),b=v,D=a("2877"),w=a("24e8"),C=a("f09f"),N=a("a370"),x=a("0016"),k=a("4b7e"),I=a("9c40"),S=a("eebe"),P=a.n(S),_=Object(D["a"])(b,y,h,!1,null,null,null),$=_.exports;P()(_,"components",{QDialog:w["a"],QCard:C["a"],QCardSection:N["a"],QIcon:x["a"],QCardActions:k["a"],QBtn:I["a"]});var O=function(e,t,a,i){function o(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,n){function s(e){try{l(i.next(e))}catch(t){n(t)}}function r(e){try{l(i["throw"](e))}catch(t){n(t)}}function l(e){e.done?a(e.value):o(e.value).then(s,r)}l((i=i.apply(e,t||[])).next())}))},q=d["a"].extend({name:"Register",props:{mode:{type:String,required:!0}},data(){return{transition:s["a"],template:[...c],activeSection:0,isPassword:!1,formData:{},forceRouteLeave:!1,isLoading:!1}},activated(){if(this.template=[...c],console.log(`Register component activated with mode ${this.$props.mode}`),"register"===this.$props.mode)for(const e of c)for(const t of e.formItems)this.$set(this.formData,t.name,null);else if("edit"===this.$props.mode){this.template.splice(4),console.log("template: ",this.template);for(const e of c)for(const t of e.formItems)"password"!==t.name&&"username"!==t.name&&"email"!==t.name&&("boolean"===t.type?this.$set(this.formData,t.name,r["a"].userInfo[t.name]?"Yes":"No"):"date"===t.type?this.$set(this.formData,t.name,Object(n["a"])(new Date(r["a"].userInfo[t.name]),"yyyy/MM/dd")):this.$set(this.formData,t.name,r["a"].userInfo[t.name]))}},computed:{backIcon(){return 0===this.activeSection?"close":"keyboard_arrow_left"},forwardIcon(){return this.activeSection===this.template.length-1?"check_circle":"keyboard_arrow_right"}},beforeRouteLeave(e,t,a){if(this.forceRouteLeave)return this.forceRouteLeave=!1,void a();"register"===this.$props.mode?f["a"].create({title:"Cancel registration?",cancel:!0}).onOk((()=>{a()})):"edit"===this.$props.mode&&f["a"].create({title:"Go back?",message:"Any changes you made to your personal information on this screen will be discarded.",cancel:!0}).onOk((()=>{a()}))},methods:{back(){0===this.activeSection?this.$router.back():this.navigate(-1)},next(){this.activeSection===this.template.length-1?"register"===this.$props.mode?this.submit():"edit"===this.$props.mode&&f["a"].create({title:"Save these changes?",cancel:!0}).onOk((()=>{this.submit()})):this.navigate(1)},submit(){return O(this,void 0,void 0,(function*(){this.$q.loading.show({message:"Communicating with the server..."});const e={};for(const t in this.formData)for(const a of c)for(const i of a.formItems)if(i.name===t){if(i.name.startsWith("__"))continue;const o=i;if(o.conditionalFunction&&o.conditionalFunction(this.formData)||!o.conditionalFunction){if(!(void 0!==this.formData[t]&&null!==this.formData[t]&&""!==this.formData[t]||(null===i||void 0===i?void 0:i.isNotRequired)))return this.$q.notify({message:`${o.displayName} in ${a.title} needs to be completed.`,type:"negative",position:"center",timeout:2500}),void this.$q.loading.hide();e[t]=this.formData[t],"boolean"===i.type&&(e[t]="Yes"===this.formData[t])}}for(const t in e)null===e[t]&&delete e[t];if(console.log("data to submit: ",e),"register"===this.$props.mode){const[t,a]=yield Object(p["e"])(e);t?(this.forceRouteLeave=!0,this.$q.dialog({component:$,username:this.formData.username,password:this.formData.password}),yield this.$router.push("/home")):this.$q.notify({message:a,type:"negative"})}else"edit"===this.$props.mode&&(this.forceRouteLeave=!0,(yield Object(u["c"])(e))&&this.$router.back());this.$q.loading.hide()}))},navigate(e){this.activeSection=this.activeSection+e===-1?this.template.length-1:(this.activeSection+e)%this.template.length}}}),T=q,F=a("9989"),R=a("ddd8"),A=a("27f9"),E=a("7cbe"),Y=a("52ee"),M=a("de5e"),H=a("7f67"),Q=Object(D["a"])(T,i,o,!1,null,null,null);t["default"]=Q.exports;P()(Q,"components",{QPage:F["a"],QSelect:R["a"],QInput:A["a"],QIcon:x["a"],QPopupProxy:E["a"],QDate:Y["a"],QBtn:I["a"],QPageSticky:M["a"]}),P()(Q,"directives",{ClosePopup:H["a"]})}}]);
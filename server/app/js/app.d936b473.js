(function(e){function t(t){for(var o,r,c=t[0],s=t[1],u=t[2],d=0,f=[];d<c.length;d++)r=c[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&f.push(a[r][0]),a[r]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);l&&l(t);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,r=1;r<n.length;r++){var s=n[r];0!==a[s]&&(o=!1)}o&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var o={},a={2:0},i=[];function r(e){return c.p+"js/"+({}[e]||e)+"."+{1:"7bc23157",3:"b11938ce",4:"27602c32",5:"d8326cff",6:"d993c349",7:"b87a193c",8:"ccc7caed",9:"46456654",10:"6fc84a01",11:"a1d63ca5",12:"04cc5386",13:"67ad8238",14:"c5bfb2f8",15:"8dc16549",16:"228639b7",17:"9dfa5fa4",18:"9bf82eeb"}[e]+".js"}function c(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,o){n=a[e]=[t,o]}));t.push(n[2]=o);var i,s=document.createElement("script");s.charset="utf-8",s.timeout=120,c.nc&&s.setAttribute("nonce",c.nc),s.src=r(e);var u=new Error;i=function(t){s.onerror=s.onload=null,clearTimeout(d);var n=a[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+o+": "+i+")",u.name="ChunkLoadError",u.type=o,u.request=i,n[1](u)}a[e]=void 0}};var d=setTimeout((function(){i({type:"timeout",target:s})}),12e4);s.onerror=s.onload=i,document.head.appendChild(s)}return Promise.all(t)},c.m=e,c.c=o,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(n,o,function(t){return e[t]}.bind(null,o));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var l=u;i.push([0,0]),n()})({0:function(e,t,n){e.exports=n("2f39")},"1d60":function(e,t,n){"use strict";var o=n("2a19");const a={timeout:2500};t["a"]={positive:e=>o["a"].create(Object.assign({message:e,type:"positive"},a)),negative:e=>o["a"].create(Object.assign({message:e,type:"negative"},a)),info:e=>o["a"].create(Object.assign({message:e},a))}},2047:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("932f");const a={userInfo:{},logs:[],recentlyViewed:{},activeRoute:"",notifications:[],serverInfo:{},menu:o["a"],changeInVaccinationStatus:!1,changeInVaccineStatus:!1}},"2f39":function(e,t,n){"use strict";n.r(t);n("e6cf"),n("ddb0"),n("5319"),n("35fc"),n("573e"),n("43b9"),n("7d6e"),n("e54f"),n("4439"),n("4605"),n("f580"),n("5b2b"),n("8753"),n("2967"),n("7e67"),n("d770"),n("dd82"),n("922c"),n("d7fb"),n("a533"),n("c32e"),n("a151"),n("8bc7"),n("e80f"),n("5fec"),n("e42f"),n("57fc"),n("d67f"),n("880e"),n("1c10"),n("9482"),n("e797"),n("4848"),n("53d0"),n("63b1"),n("e9fd"),n("195c"),n("64e9"),n("33c5"),n("4f62"),n("0dbc"),n("7c38"),n("0756"),n("4953"),n("81db"),n("2e52"),n("22485"),n("7797"),n("12a1"),n("ce96"),n("70ca"),n("2318"),n("24bd"),n("8f27"),n("3064"),n("c9a2"),n("8767"),n("4a8e"),n("b828"),n("3c1c"),n("21cb"),n("c00e"),n("e4a8"),n("e4d3"),n("f4d9"),n("fffd"),n("f645"),n("639e"),n("34ee"),n("b794"),n("af24"),n("7c9c"),n("7bb2"),n("64f7"),n("c382"),n("053c"),n("c48f"),n("f5d1"),n("3cec"),n("c00ee"),n("d450"),n("ca07"),n("14e3"),n("9393"),n("9227"),n("1dba"),n("674a"),n("de26"),n("6721"),n("9cb5"),n("ed9b"),n("fc83"),n("98e5"),n("605a"),n("ba60"),n("df07"),n("7903"),n("e046"),n("58af"),n("7713"),n("0571"),n("3e27"),n("6837"),n("3fc9"),n("0693"),n("bf41"),n("985d"),n("31cd"),n("9a0d");var o=n("2b0e"),a=n("1f91"),i=n("42d2"),r=n("b05d"),c=n("18d6"),s=n("a639"),u=n("436b"),d=n("2a19"),l=n("f508");o["a"].use(r["a"],{config:{},lang:a["a"],iconSet:i["a"],plugins:{LocalStorage:c["a"],SessionStorage:s["a"],Dialog:u["a"],Notify:d["a"],Loading:l["a"]}});var f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"q-app"}},[n("transition",{attrs:{"enter-active-class":"animated "+e.transition.in,"leave-active-class":"animated "+e.transition.out,mode:"out-in",duration:300}},[n("router-view")],1)],1)},p=[],h=n("d3a2"),b=n("44eb"),g=n("9baa"),w=function(e,t,n,o){function a(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function r(e){try{s(o.next(e))}catch(t){i(t)}}function c(e){try{s(o["throw"](e))}catch(t){i(t)}}function s(e){e.done?n(e.value):a(e.value).then(r,c)}s((o=o.apply(e,t||[])).next())}))},v=o["a"].extend({name:"App",data(){return{transition:h["a"]}},created(){return w(this,void 0,void 0,(function*(){yield this.$router.push("/");let e="";try{e=document.location.host,this.$q.localStorage.set("server",document.location.host)}catch(t){e=this.$q.localStorage.getItem("server")}yield new Promise((e=>setTimeout(e,1500))),e&&(yield Object(b["d"])(e))?(yield Object(g["c"])())?yield this.$router.push("/home"):yield this.$router.push("/login"):yield this.$router.push("/connect"),window.NavigationBar&&NavigationBar&&NavigationBar.show()}))}}),m=v,y=n("2877"),P=Object(y["a"])(m,f,p,!1,null,null,null),O=P.exports,k=n("4bde"),j=n("8c4f");const x=[{path:"/",component:()=>Promise.all([n.e(0),n.e(14)]).then(n.bind(null,"4632")),children:[{path:"",component:()=>Promise.all([n.e(0),n.e(13)]).then(n.bind(null,"2d97"))},{path:"/login",component:()=>Promise.all([n.e(0),n.e(12)]).then(n.bind(null,"013f"))},{path:"/register",component:()=>Promise.all([n.e(0),n.e(1)]).then(n.bind(null,"56b4")),props:{mode:"register"}},{path:"/connect",component:()=>Promise.all([n.e(0),n.e(16)]).then(n.bind(null,"2c32"))}]},{path:"/home",component:()=>Promise.all([n.e(0),n.e(15)]).then(n.bind(null,"713b")),children:[{path:"",component:()=>Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"bc13"))},{path:"/profile",component:()=>Promise.all([n.e(0),n.e(4)]).then(n.bind(null,"2ff9"))},{path:"/personal-info",component:()=>Promise.all([n.e(0),n.e(1)]).then(n.bind(null,"56b4")),props:{mode:"edit"}},{path:"/logs",component:()=>Promise.all([n.e(0),n.e(3)]).then(n.bind(null,"e19e"))},{path:"/vaccine",component:()=>Promise.all([n.e(0),n.e(8)]).then(n.bind(null,"595c"))},{path:"/view-log",component:()=>Promise.all([n.e(0),n.e(9)]).then(n.bind(null,"416e"))},{path:"/notifications",component:()=>Promise.all([n.e(0),n.e(6)]).then(n.bind(null,"f2e3"))},{path:"/preferences",component:()=>Promise.all([n.e(0),n.e(7)]).then(n.bind(null,"982f"))},{path:"/faqs",component:()=>Promise.all([n.e(0),n.e(11)]).then(n.bind(null,"f90e"))},{path:"/change-profile-picture",component:()=>Promise.all([n.e(0),n.e(10)]).then(n.bind(null,"11c2"))}]},{path:"*",component:()=>n.e(17).then(n.bind(null,"e51e"))}];var S=x,$=n("2047"),C=Object(k["route"])((function({Vue:e}){e.use(j["a"]);const t=new j["a"]({scrollBehavior(e,t,n){return n||{x:0,y:0}},routes:S,mode:"hash",base:""});return t.beforeEach(((e,t,n)=>{"/"===e.path&&"/"!==t.path&&n(!1),$["a"].activeRoute=e.path,n()})),t})),_=async function(){const e="function"===typeof C?await C({Vue:o["a"]}):C,t={router:e,render:e=>e(O),el:"#q-app"};return{app:t,router:e}},I=n("9483");Object(I["a"])("service-worker.js",{ready(){},registered(){},cached(){},updatefound(){},updated(){},offline(){},error(){}});var q=n("bc3a"),L=n.n(q);L.a.defaults.validateStatus=e=>(console.log(`Status is ${e<500}`),e<500);var N=Object(k["boot"])((({Vue:e})=>{e.prototype.$axios=L.a})),R=n("caf4");/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&window.navigator.standalone&&n.e(0).then(n.t.bind(null,"a0db",7));const A="";async function D(){const{app:e,router:t}=await _();let n=!1;const a=e=>{n=!0;const o=Object(e)===e?t.resolve(e).route.fullPath:e;window.location.href=o},i=window.location.href.replace(window.location.origin,""),r=[N,R["a"]];for(let s=0;!1===n&&s<r.length;s++)if("function"===typeof r[s])try{await r[s]({app:e,router:t,Vue:o["a"],ssrContext:null,redirect:a,urlPath:i,publicPath:A})}catch(c){return c&&c.url?void(window.location.href=c.url):void console.error("[Quasar] boot error:",c)}!0!==n&&new o["a"](e)}D()},"31cd":function(e,t,n){},"44eb":function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return w}));var o=n("bc3a"),a=n.n(o),i=n("1d60"),r=n("2047"),c=n("436b"),s=n("18d6"),u=n("9baa"),d=n("caf4"),l=n("932f"),f=function(e,t,n,o){function a(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function r(e){try{s(o.next(e))}catch(t){i(t)}}function c(e){try{s(o["throw"](e))}catch(t){i(t)}}function s(e){e.done?n(e.value):a(e.value).then(r,c)}s((o=o.apply(e,t||[])).next())}))};const p=a.a.create({timeout:5e3,baseURL:"",validateStatus(e){return e<500}});let h;function b(e){return/^(?:f|ht)tps?:\/\//.test(e)||(e="http://"+e),e}function g(e){var t;return f(this,void 0,void 0,(function*(){try{e=b(e.trim());const n=yield p.get(e+"/reception");if(null===(t=n.data)||void 0===t?void 0:t.version){console.log("reception",n.data);for(const e in n.data)s["a"].set(e,n.data[e]),r["a"].serverInfo=Object.assign({},r["a"].serverInfo,n.data);if(r["a"].serverInfo=Object.assign({},r["a"].serverInfo,{address:e}),i["a"].positive(`Connected to ${n.data.location}!`),s["a"].set("server",e),p.defaults.baseURL=e,h=e,!n.data.lguUrl)for(let e=0;e<l["a"].length;e++)"Go to the LGU website"===l["a"][e].name&&(l["a"][e].hidden=!0);return!0}return i["a"].negative(`${e} doesn't seem to be a valid Tracvac site.`),!1}catch(n){return i["a"].negative(`An error happened while connecting ${n.message}`),!1}}))}function w(){return f(this,void 0,void 0,(function*(){c["a"].create({title:`Disconnect from ${r["a"].serverInfo.location}?`,message:"By disconnecting, you'll be logged out and taken back to the site selection screen.",ok:!0,cancel:!0}).onOk((()=>{Object(u["d"])(!0),d["b"].push("/connect")}))}))}},"932f":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n("9baa"),a=n("2047"),i=n("caf4"),r=n("18d6"),c=n("44eb");const s=[{name:"BE INFORMED",isSeparator:!0},{name:"Notifications from DOH",description:"Go to the Department of Health official website and check their notifications from there.",icon:"health_and_safety",action(){window.open("https://doh.gov.ph/","_system")}},{name:"Notifications from your LGU",showBadge:!1,description:"View notifications sent to you from your Local Government Unit.",icon:"fas fa-university",action(){i["b"].push("/notifications");for(const e of s)"Notifications from your LGU"===e.name&&(e.showBadge=!1)}},{name:"Go to the LGU website",icon:"fas fa-globe-americas",hidden:!1,description:"Connect to your local government's website, for local updates",action(){window.open(Object(c["a"])(r["a"].getItem("lguUrl")),"_system")}},{name:"OTHERS",isSeparator:!0},{name:"Preferences",icon:"fas fa-cog",disallowRecentlyViewed:!0,action(){i["b"].push("/preferences")}},{name:"Log out",icon:"fas fa-sign-out-alt",disallowRecentlyViewed:!0,action:o["d"]}];for(const u of s)if(u.action&&!u.disallowRecentlyViewed){const e=u.action;u.action=(...t)=>{var n;a["a"].recentlyViewed=Object.assign({},a["a"].recentlyViewed,u),console.log(`Recently viewed is now ${null===(n=a["a"].recentlyViewed)||void 0===n?void 0:n.name}`),e(...t)}}},"9a0d":function(e,t,n){},"9baa":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return b}));var o=n("44eb"),a=n("ea9b"),i=n("caf4"),r=n("18d6"),c=n("436b"),s=n("2047"),u=function(e,t,n,o){function a(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function r(e){try{s(o.next(e))}catch(t){i(t)}}function c(e){try{s(o["throw"](e))}catch(t){i(t)}}function s(e){e.done?n(e.value):a(e.value).then(r,c)}s((o=o.apply(e,t||[])).next())}))};let d=!1;function l(){return d}function f(e,t){return u(this,void 0,void 0,(function*(){console.log(`Logging in with ${e} and ${t}...`);try{const n=yield o["b"].post("/login",{username:e,password:t});return n.data.result?(r["a"].set("token",n.data.token),o["b"].defaults.headers={"X-Access-Token":n.data.token},yield Object(a["b"])(),d=!0,[!0]):(d=!1,[!1,n.data.message])}catch(n){return d=!1,[!1,`A clientside error happened while logging you in: ${n}`]}}))}function p(){return u(this,void 0,void 0,(function*(){const e=r["a"].getItem("token");if(e){o["b"].defaults.headers={"X-Access-Token":e};const t=yield o["b"].get("/is-authorized");if(!0===t.data.result)return yield Object(a["b"])(),d=!0,!0}return!1}))}function h(e){console.log("logout called");const t=()=>{const e=r["a"].getItem("token");e&&(s["a"].userInfo=Object.assign({},{}),r["a"].remove("token")),d=!1,i["b"].push("/login")};e?t():c["a"].create({message:"Are you sure you want to log out?",cancel:!0,ok:!0}).onOk(t)}function b(e){return u(this,void 0,void 0,(function*(){console.log("Registering...");try{const t=yield o["b"].post("/user",e);return t.data.result?(yield f(e.username,e.password),d=!0,[!0]):(d=!1,[!1,t.data.message])}catch(t){return d=!1,[!1,`A clientside error happened while trying to register you: ${t.message}`]}}))}},caf4:function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var o=n("4bde");let a=null;t["a"]=Object(o["boot"])((({router:e})=>{a=e}))},d3a2:function(e,t,n){"use strict";t["a"]={in:"fadeInLeft",out:"fadeOutRight"}},ea9b:function(e,t,n){"use strict";n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return $})),n.d(t,"d",(function(){return C})),n.d(t,"a",(function(){return _}));var o=n("44eb"),a=n("2047"),i=n("1d60"),r=n("9baa"),c=n("436b"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-dialog",{ref:"dialog",attrs:{persistent:""},on:{hide:e.onDialogHide}},[n("q-card",{staticClass:"q-dialog-plugin p-4",staticStyle:{"background-image":"url('/color.png')","background-repeat":"no-repeat","background-attachment":"fixed","background-position":"center"}},[n("q-card-section",[n("div",{staticClass:"mt-8 text-h5"},[e._v("CHANGE PASSWORD")]),n("div",{staticClass:"mt-4 text-subtitle2 content-center"},[e._v("OLD PASSWORD")]),n("q-input",{attrs:{type:e.showOldPassword?"password":"text"},scopedSlots:e._u([{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.showOldPassword?"visibility_off":"visibility"},on:{click:function(t){e.showOldPassword=!e.showOldPassword}}})]},proxy:!0}]),model:{value:e.oldPassword,callback:function(t){e.oldPassword=t},expression:"oldPassword"}}),n("div",{staticClass:"mt-2 text-subtitle2 content-center"},[e._v("NEW PASSWORD")]),n("q-input",{attrs:{type:e.showNewPassword?"password":"text"},scopedSlots:e._u([{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.showNewPassword?"visibility_off":"visibility"},on:{click:function(t){e.showNewPassword=!e.showNewPassword}}})]},proxy:!0}]),model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}})],1),n("q-card-actions",{attrs:{align:"center"}},[n("q-btn",{staticClass:"p-4",attrs:{disable:!e.canClickOK,icon:"fas fa-check",flat:"",label:"Change My Password"},on:{click:e.onOKClick}})],1)],1)],1)},u=[],d=n("2b0e"),l=d["a"].extend({name:"ChangePasswordDialog",data(){return{showNewPassword:!1,newPassword:"",showOldPassword:!1,oldPassword:""}},computed:{canClickOK(){return""!==this.newPassword&&""!==this.oldPassword}},methods:{show(){this.$refs.dialog.show()},hide(){this.$refs.dialog.hide()},onDialogHide(){this.$emit("hide")},onOKClick(){this.$emit("ok",{oldPassword:this.oldPassword,newPassword:this.newPassword}),this.hide()},onCancelClick(){}}}),f=l,p=n("2877"),h=n("24e8"),b=n("f09f"),g=n("a370"),w=n("27f9"),v=n("0016"),m=n("4b7e"),y=n("9c40"),P=n("eebe"),O=n.n(P),k=Object(p["a"])(f,s,u,!1,null,null,null),j=k.exports;O()(k,"components",{QDialog:h["a"],QCard:b["a"],QCardSection:g["a"],QInput:w["a"],QIcon:v["a"],QCardActions:m["a"],QBtn:y["a"]});var x=function(e,t,n,o){function a(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function r(e){try{s(o.next(e))}catch(t){i(t)}}function c(e){try{s(o["throw"](e))}catch(t){i(t)}}function s(e){e.done?n(e.value):a(e.value).then(r,c)}s((o=o.apply(e,t||[])).next())}))};function S(){return x(this,void 0,void 0,(function*(){try{const e=yield(yield o["b"].get("/user")).data;return!!e.result&&(a["a"].userInfo=Object.assign({},a["a"].userInfo,e.user),!0)}catch(e){return console.warn("User info retrieval failed! Token must be invalid! Logging out..."),i["a"].negative("Please log in again."),Object(r["d"])(!0),!1}}))}function $(e){return x(this,void 0,void 0,(function*(){try{const t=yield o["b"].patch("/user",e);return t.data.result?(yield S(),i["a"].positive("Personal information updated!"),!0):(i["a"].negative(`Personal information not saved: ${t.data.message}`),!1)}catch(t){return i["a"].negative(`Personal information not saved: ${t}`),!1}}))}function C(e){return x(this,void 0,void 0,(function*(){const t=new FormData;t.append("file",e);try{const e=(yield o["b"].post("/upload-profile-picture",t,{headers:{"Content-Type":"multipart/form-data"}})).data;return e.result?(i["a"].positive("Profile picture changed!"),yield S(),!0):(i["a"].negative(`Profile picture change failed: ${e.message}`),!1)}catch(n){return i["a"].negative(`Profile picture upload failed: ${n.message}`),!1}}))}function _(){try{c["a"].create({component:j}).onOk((e=>x(this,void 0,void 0,(function*(){const t=yield o["b"].post("/changePassword",{oldPassword:e.oldPassword,newPassword:e.newPassword});t.data.result?(i["a"].positive("Password changed! Please log in again with the new password."),Object(r["d"])(!0)):i["a"].negative(`Password change failed: ${t.data.message}`)}))))}catch(e){i["a"].negative(`Password change failed: ${e}`)}}}});
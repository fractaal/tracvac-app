(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{f2e3:function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("q-page",{staticClass:"p-8"},[e("h4",{staticClass:"m-0 font-light"},[t._v("NOTIFICATIONS")]),e("div",{staticClass:"mt-4 flex flex-row"},[e("q-btn",{staticClass:"p-2",attrs:{outline:"",icon:"fas fa-plus",label:"Post Notification"},on:{click:function(i){return t.$router.push("/addNotif")}}})],1),e("div",{staticClass:"mt-4"},t._l(t.notifications,(function(i){return e("q-card",{key:i.id,staticClass:"mb-4 border border-solid border-gray-400 shadow-lg"},[e("q-card-section",[e("div",{staticClass:"flex flex-row justify-between"},[e("h5",{staticClass:"m-0 p-0"},[t._v(t._s(i.title))]),e("div",[e("q-btn",{staticClass:"block ml-auto mb-2",attrs:{outline:"",icon:"fas fa-trash",label:"Delete"},on:{click:function(e){return t.deleteNotification(i.id)}}}),e("p",[t._v("Created on "+t._s(i.createdAt))])],1)]),e("p",{domProps:{innerHTML:t._s(i.content)}})])],1)})),1)])},a=[],o=e("2b0e"),s=function(t,i,e,n){function a(t){return t instanceof e?t:new e((function(i){i(t)}))}return new(e||(e=Promise))((function(e,o){function s(t){try{l(n.next(t))}catch(i){o(i)}}function c(t){try{l(n["throw"](t))}catch(i){o(i)}}function l(t){t.done?e(t.value):a(t.value).then(s,c)}l((n=n.apply(t,i||[])).next())}))},c=o["a"].extend({name:"Notifications",activated(){return s(this,void 0,void 0,(function*(){yield this.loadData()}))},data(){return{notifications:[]}},methods:{loadData(){return s(this,void 0,void 0,(function*(){const t=yield this.$axios.post("/admin/getNotifications",{pageSize:0,page:0});this.notifications=t.data}))},deleteNotification(t){return s(this,void 0,void 0,(function*(){console.log("clicked");try{const i=yield this.$axios.post("/admin/deleteNotification",{notificationId:t});if(!i.data.result)throw new Error(i.data.message);this.$q.notify({message:"Notification deleted!",type:"positive"})}catch(i){this.$q.notify({message:`Deletion of notification failed! ${i}`,type:"negative"})}yield this.loadData()}))}}}),l=c,r=e("2877"),d=e("9989"),f=e("9c40"),u=e("f09f"),h=e("a370"),p=e("eebe"),v=e.n(p),m=Object(r["a"])(l,n,a,!1,null,null,null);i["default"]=m.exports;v()(m,"components",{QPage:d["a"],QBtn:f["a"],QCard:u["a"],QCardSection:h["a"]})}}]);